{% extends "_base.html" %}
{% load crispy_forms_tags %}

{% block title %}{{ view_name }} PrepCard {% endblock title %}

{% block content %}
<h2 class="my-3">{{ view_name }} PrepCard </h2>
<form method="post" class="form-control p-3">
    {% csrf_token %}
    <div class="container my-2">
    {{ form | crispy }}
    </div>
    <div class="container d-grid py-2 my-2 border rounded" >
        <div class="row">
            <h2>Ingredient</h2>
        </div>
        <div class="row row-cols-4" id="ingredientforms">
        {% for form in formset %}
            <div class="col card m-2 p-2">{{ form | crispy }}</div>
        {% endfor %}
        </div>
        <button class="btn btn-warning" 
                type="button" 
                hx-get="{% url 'serve-ingredient-form' %}" 
                hx-target="#ingredientforms" 
                hx-swap="beforeend">
            + Add Ingredient
        </button>
    </div>
    <input class="btn btn-primary" type="submit" value="{{ view_name }}">
</form>

{% endblock content %}