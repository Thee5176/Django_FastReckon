{% load static %}

<div class="container row">
    {% for book in book_list %}
        <div class="table-responsive-md col-auto">
            <h4 class="m-2">{{ book.abbr }}|{{ book.name }}</h4>
    
            <table class="table table-hover table-light align-middle">
                <thead class="table-light">
                    <tr>
                        <th>Code</th>
                        <th>Name</th>
                        <th>Record Count</th>
                        <th>Balance</th>
                    </tr>
                </thead>
                <tbody class="table-group-divider">
                {% for account in book.accounts.all %}
                    <tr class="table-{{ account.color_code }} position-relative">
                        <td scope="row">
                            <a href="{{ account.get_absolute_url }}" class="stretched-link text-decoration-none text-dark">
                                {{ account.code }}
                            </a>
                        </td>
                        <td>{{ account.name }}</td>
                        <td></td>
                        <td>{{ account.get_account_balance }}</td>
                    </tr>
                {% empty %}
                    <tr class="table-light">
                        <td class='text-danger' colspan=4>No Account associated with {{book.name}} Book</p>
                    </tr>
                {% endfor %}
                </tbody>
                <tfoot>
                    <tr>
                        <td colspan=3>total</td>
                        <td>
                            <script src="{% static "js/table_amount_footer.js" %}"></script>
                        </td>
                    </tr>
                </tfoot>
            </table>
        </div>
    {% endfor %}
</div class="container row">